version: '3'

services:

  mysql:
    build:
      context: ./database_service
      dockerfile: Dockerfile
    ports:
      - "3307:3306"
    environment:
      MYSQL_ROOT_PASSWORD: password
      MYSQL_DATABASE: nodelogin
      MYSQL_USER: sqluser
      MYSQL_PASSWORD: password
    volumes:
      - mysql_data:/var/lib/mysql

  authentication:
    build:
      context: ./login_service
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    depends_on:
      - mysql

volumes:
  mysql_data:

#   file_system:
#     build:
#       context: ./storage_service
#       dockerfile: Dockerfile
#     ports:
#       - "5002:3002"


#   upload_video:
#     build:
#       context: ./upload_service
#       dockerfile: Dockerfile
#     ports:
#       - "5003:3003"
#     depends_on:
#       - authentication
#       - mysql
#       - file_system

#   video_streaming:
#     build:
#       context: ./video_service
#       dockerfile: Dockerfile
#     ports:
#       - "5001:3001"
#     depends_on:
#       - authentication
#       - mysql
#       - file_system




